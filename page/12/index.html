<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>奔跑的蜗牛</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="前端开发工程师">
<meta property="og:type" content="website">
<meta property="og:title" content="奔跑的蜗牛">
<meta property="og:url" content="http://example.com/page/12/index.html">
<meta property="og:site_name" content="奔跑的蜗牛">
<meta property="og:description" content="前端开发工程师">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="奔跑的蜗牛">
<meta property="article:tag" content="React、node、webpack">
<meta name="twitter:card" content="summary">
  
  
    <link rel="icon" href="0001.jpg#/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

  

<meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="奔跑的蜗牛" type="application/atom+xml">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">奔跑的蜗牛</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">分类</a>
        
      </nav>
      <nav id="sub-nav">
        
        
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-JavaScript的使用建议" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/25/JavaScript%E7%9A%84%E4%BD%BF%E7%94%A8%E5%BB%BA%E8%AE%AE/" class="article-date">
  <time datetime="2017-09-24T17:23:03.000Z" itemprop="datePublished">2017-09-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/25/JavaScript%E7%9A%84%E4%BD%BF%E7%94%A8%E5%BB%BA%E8%AE%AE/">JavaScript的使用建议</a>
    </h1>
  


        <div style="color: #999; margin-top: 0.3rem" class="post-meta-item"> 共计
    324 字，约需阅读
    1.18
    分钟
</div>
      </header>
    
    
   

    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="JavaScript的使用建议"><a href="#JavaScript的使用建议" class="headerlink" title="JavaScript的使用建议"></a>JavaScript的使用建议</h2><ol>
<li>使用<code>===</code>代替<code>==</code>，<code>==</code>和<code>!=</code>会强制转换类型。</li>
<li>避免使用<code>eval</code>，<code>eval</code>不仅降低脚本的性能，而且由于需要的权限比较高会造成安全风险。</li>
<li>不要省略<code>&#123;&#125;</code>，即使代码快只有一行也不可以，便于以后的阅读和修改。</li>
<li>使用<code>JSLint</code>检查代码是否存在错误。</li>
<li>把js脚本嵌在文件的底部。</li>
<li>避免在<code>for</code>语句中声明变量。</li>
<li>使用数组或者对象构建字符串时使用<code>join</code>方法。</li>
<li>脚本中减少全局变量的使用，建议用对象把方法和属性包裹起来。</li>
<li>给代码添加注释。</li>
<li>在没有启用<code>js</code>的情况下逐步增强网站效果。</li>
<li><code>setInterval</code>和<code>setTimeout</code>不要传递字符串参数而是使用函数名称。</li>
<li>不要使用<code>with</code>语句。</li>
<li>使用<code>&#123;&#125;</code>代替<code>new Object()</code>。</li>
<li>使用<code>[]</code>代替<code>new Array()</code>。</li>
<li>定义多个变量时，省略关键字<code>let</code>、<code>var</code>等，用逗号代替。</li>
<li>不要省略分号。</li>
<li><code>for in</code>使用判断条件过滤信息避免多余的循环次数以提高性能。</li>
<li>通过计算运行时间优化代码。</li>
<li>多阅读。</li>
<li>自执行函数，用<code>(函数实现)(函数参数);</code>实现自执行函数。</li>
<li>移除<code>script</code>标签中的<code>language</code>属性。</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/09/25/JavaScript%E7%9A%84%E4%BD%BF%E7%94%A8%E5%BB%BA%E8%AE%AE/" data-id="cm1ghkbmf0005zodz22y09chi" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-js学习（一）" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/23/js%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%80%EF%BC%89/" class="article-date">
  <time datetime="2017-09-22T21:59:32.000Z" itemprop="datePublished">2017-09-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/23/js%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%80%EF%BC%89/">js学习（一）</a>
    </h1>
  


        <div style="color: #999; margin-top: 0.3rem" class="post-meta-item"> 共计
    387 字，约需阅读
    1.41
    分钟
</div>
      </header>
    
    
   

    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="setState参数"><a href="#setState参数" class="headerlink" title="setState参数"></a><code>setState</code>参数</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">void setState(</span><br><span class="line">      function|object nextState,</span><br><span class="line">      [function callback]</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<ol>
<li>第一个参数可以是一个函数也可以是一个对象，但是返回值都是下一个<code>state</code>的状态。</li>
<li>第二个参数为<code>setState</code>这个函数异步调用结束以后的回调函数，可以用在组件设置完<code>state</code>以后进行的操作。</li>
</ol>
<h2 id="js对网页滚动条的操作"><a href="#js对网页滚动条的操作" class="headerlink" title="js对网页滚动条的操作"></a><code>js</code>对网页滚动条的操作</h2><ul>
<li><code>js</code>可以通过改变目标元素的<code>scrollTop</code>改变元素滚动条的位置</li>
<li><code>onWheel</code>事件可以监听滚动条滚动事件，可以通过<code>deltaX</code>和<code>deltaY</code>属性获取滚动条滚动的位置和方向</li>
<li><code>onScroll</code>事件可以监听滚动条事件，但是无法获取方向和滚动距离及位置</li>
<li><code>CSS</code>中没有可以操作<code>scrollTop</code>值的属性</li>
</ul>
<h2 id="setInterval"><a href="#setInterval" class="headerlink" title="setInterval"></a><code>setInterval</code></h2><p><code>setInterval</code>定时执行函数，当先后创建多个定时器时可能不会按照你预想的顺序来执行，因为<code>js</code>是单线程的，只有当前一个任务执行完毕以后才能够继续执行下一任务，所以调用定时器的时间可能大于你预设的时间，由此造成调用定时器的混乱。</p>
<h2 id="js实现动画"><a href="#js实现动画" class="headerlink" title="js实现动画"></a>js实现动画</h2><ul>
<li>通过js中的定时器不断的改变元素的位置和高度模拟动画效果</li>
<li>通过一个定时器管理函数管理定时器的先后调用顺序或者通过<code>dom2</code>级时间<code>removeEventLisenner</code>函数让元素在js调用定时器期间失去时间响应解决定时器无法顺序调用的各种问题</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/09/23/js%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%80%EF%BC%89/" data-id="cm1ghkbmv001vzodzfzlwccnf" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-运算符重载" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/19/%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD/" class="article-date">
  <time datetime="2017-03-18T16:35:51.000Z" itemprop="datePublished">2017-03-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/19/%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD/">运算符重载</a>
    </h1>
  


        <div style="color: #999; margin-top: 0.3rem" class="post-meta-item"> 共计
    1.6k 字，约需阅读
    5.82
    分钟
</div>
      </header>
    
    
   

    <div class="article-entry" itemprop="articleBody">
      
        <p>C++中预定义的运算符的操作对象只能是基本数据类型。但实际上，对于许多用户自定义类型（例如类），也需要类似的运算操作。这时就必须在C++中重新定义这些运算符，赋予已有运算符新的功能，使它能够用于特定类型执行特定的操作。运算符重载的实质是函数重载，它提供了C++的可扩展性，也是C++最吸引人的特性之一。</p>
<p>运算符重载是通过创建运算符函数实现的，运算符函数定义了重载的运算符将要进行的操作。运算符函数的定义与其他函数的定义类似，惟一的区别是运算符函数的函数名是由关键字operator和其后要重载的运算符符号构成的。运算符函数定义的一般格式如下：</p>
<pre><code>    &lt;返回类型说明符&gt; operator &lt;运算符符号&gt;(&lt;参数表&gt;)
    &#123;
        &lt;函数体&gt;
    &#125;
</code></pre>
<h3 id="运算符重载规则"><a href="#运算符重载规则" class="headerlink" title="运算符重载规则"></a>运算符重载规则</h3><ul>
<li><p>除了类属关系运算符”.”、成员指针运算符”.*”、作用域运算符”::”、sizeof运算符和三目运算符”?:”以外，C++中的所有运算符都可以重载。</p>
</li>
<li><p>重载运算符限制在C++语言中已有的运算符范围内的允许重载的运算符之中，不能创建新的运算符。</p>
</li>
<li><p>运算符重载实质上是函数重载，因此编译程序对运算符重载的选择，遵循函数重载的选择原则。</p>
</li>
<li><p>重载之后的运算符不能改变运算符的优先级和结合性，也不能改变运算符操作数的个数及语法结构。</p>
</li>
<li><p>运算符重载不能改变该运算符用于内部类型对象的含义。它只能和用户自定义类型的对象一起使用，或者用于用户自定义类型的对象和内部类型的对象混合使用时。</p>
</li>
<li><p>运算符重载是针对新类型数据的实际需要对原有运算符进行的适当的改造，重载的功能应当与原有功能相类似，避免没有目的地使用重载运算符。</p>
</li>
</ul>
<p>运算符函数重载一般有两种形式：重载为类的成员函数和重载为类的非成员函数。非成员函数通常是友元。可以把一个运算符作为一个非成员、非友元函数重载。但是，这样的运算符函数访问类的私有和保护成员时，必须使用类的公有接口中提供的设置数据和读取数据的函数，调用这些函数时会降低性能。可以内联这些函数以提高性能。</p>
<h3 id="成员函数运算符"><a href="#成员函数运算符" class="headerlink" title="成员函数运算符"></a>成员函数运算符</h3><p>运算符重载为类的成员函数的一般格式为：</p>
<pre><code>    &lt;函数类型&gt; operator &lt;运算符&gt;(&lt;参数表&gt;)
    &#123;
        &lt;函数体&gt;
    &#125;
</code></pre>
<p>当运算符重载为类的成员函数时，函数的参数个数比原来的操作数要少一个（后置单目运算符除外），这是因为成员函数用this指针隐式地访问了类的一个对象，它充当了运算符函数最左边的操作数。因此：</p>
<ul>
<li><p>双目运算符重载为类的成员函数时，函数只显式说明一个参数，该形参是运算符的右操作数。</p>
</li>
<li><p>前置单目运算符重载为类的成员函数时，不需要显式说明参数，即函数没有形参。</p>
</li>
<li><p>后置单目运算符重载为类的成员函数时，函数要带有一个整型形参。</p>
</li>
</ul>
<p>调用成员函数运算符的格式如下：</p>
<pre><code>    &lt;对象名&gt;.operator &lt;运算符&gt;(&lt;参数&gt;)
</code></pre>
<p>它等价于</p>
<pre><code>    &lt;对象名&gt;&lt;运算符&gt;&lt;参数&gt;
</code></pre>
<p>例如：a+b等价于a.operator +(b)。一般情况下，我们采用运算符的习惯表达方式。</p>
<h3 id="友元函数运算符"><a href="#友元函数运算符" class="headerlink" title="友元函数运算符"></a>友元函数运算符</h3><p>运算符重载为类的友元函数的一般格式为：</p>
<pre><code>    friend &lt;函数类型&gt; operator &lt;运算符&gt;(&lt;参数表&gt;)
    &#123;
        &lt;函数体&gt;
    &#125;
</code></pre>
<p>当运算符重载为类的友元函数时，由于没有隐含的this指针，因此操作数的个数没有变化，所有的操作数都必须通过函数的形参进行传递，函数的参数与操作数自左至右一一对应。</p>
<p>调用友元函数运算符的格式如下：</p>
<pre><code>    operator &lt;运算符&gt;(&lt;参数1&gt;,&lt;参数2&gt;)
</code></pre>
<p>它等价于</p>
<pre><code>    &lt;参数1&gt;&lt;运算符&gt;&lt;参数2&gt;
</code></pre>
<p>例如：a+b等价于operator +(a,b)。</p>
<h3 id="两种重载形式的比较"><a href="#两种重载形式的比较" class="headerlink" title="两种重载形式的比较"></a>两种重载形式的比较</h3><p>在多数情况下，将运算符重载为类的成员函数和类的友元函数都是可以的。但成员函数运算符与友元函数运算符也具有各自的一些特点：</p>
<ul>
<li><p>一般情况下，单目运算符最好重载为类的成员函数；双目运算符则最好重载为类的友元函数。</p>
</li>
<li><p>以下一些双目运算符不能重载为类的友元函数：&#x3D;、()、[]、-&gt;。</p>
</li>
<li><p>类型转换函数只能定义为一个类的成员函数而不能定义为类的友元函数。</p>
</li>
<li><p>若一个运算符的操作需要修改对象的状态，选择重载为成员函数较好。</p>
</li>
<li><p>若运算符所需的操作数（尤其是第一个操作数）希望有隐式类型转换，则只能选用友元函数。</p>
</li>
<li><p>当运算符函数是一个成员函数时，最左边的操作数（或者只有最左边的操作数）必须是运算符类的一　个类对象（或者是对该类对象的引用）。如果左边的操作数必须是一个不同类的对象，或者是一个内部　类型的对象，该运算符函数必须作为一个友元函数来实现。</p>
</li>
<li><p>当需要重载运算符具有可交换性时，选择重载为友元函数。</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/03/19/%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD/" data-id="cm1ghkbnq0065zodzb953dpjx" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/c-language/" rel="tag">C&#x2F;C++语言</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-memcpy函数的实现" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/29/memcpy%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9E%E7%8E%B0/" class="article-date">
  <time datetime="2016-11-28T22:55:25.000Z" itemprop="datePublished">2016-11-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/29/memcpy%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9E%E7%8E%B0/">memcpy函数的实现</a>
    </h1>
  


        <div style="color: #999; margin-top: 0.3rem" class="post-meta-item"> 共计
    156 字，约需阅读
    0.57
    分钟
</div>
      </header>
    
    
   

    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="memcpy的代码实现"><a href="#memcpy的代码实现" class="headerlink" title="memcpy的代码实现"></a>memcpy的代码实现</h2><pre><code>void * memcpy(void *dest, const void *src, size_t count)
&#123; 
        if (dest == NULL || src == NULL)//判断是否为空避免非法操作
        return NULL; 
        char *pdest = static_cast &lt;char*&gt;(dest);
        const char *psrc  = static_cast &lt;const char*&gt;(src); 
        int n = count; 
        if (pdest &gt; psrc &amp;&amp; pdest &lt; psrc+count) //目的地址大于源地址且存在内存重叠
        &#123; 
            for (size_t i=n-1; i != -1; --i)//从高位开始复制避免出现字符覆盖的情况
            &#123; 
                    *(pdest+i) = *(psrc+i); 
            &#125; 
        &#125; 
        else
        &#123; 
            for (size_t i= 0; i &lt; n; i++) //从低位开始复制
            &#123; 
                   *(pdest+i) = *(psrc+i);
            &#125; 
        &#125;
        return dest; 
&#125;
</code></pre>
<h5 id="注：这里没有考虑内存重叠的所有情况"><a href="#注：这里没有考虑内存重叠的所有情况" class="headerlink" title="注：这里没有考虑内存重叠的所有情况"></a>注：这里没有考虑内存重叠的所有情况</h5>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2016/11/29/memcpy%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9E%E7%8E%B0/" data-id="cm1ghkbn0002gzodz49vn3pdq" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/c-language/" rel="tag">C&#x2F;C++语言</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-strcpy的实现" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/29/strcpy%E7%9A%84%E5%AE%9E%E7%8E%B0/" class="article-date">
  <time datetime="2016-11-28T22:12:57.000Z" itemprop="datePublished">2016-11-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/29/strcpy%E7%9A%84%E5%AE%9E%E7%8E%B0/">strcpy的实现</a>
    </h1>
  


        <div style="color: #999; margin-top: 0.3rem" class="post-meta-item"> 共计
    176 字，约需阅读
    0.64
    分钟
</div>
      </header>
    
    
   

    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="不考虑内存重叠"><a href="#不考虑内存重叠" class="headerlink" title="不考虑内存重叠"></a>不考虑内存重叠</h2><pre><code>char * strcpy(char *dest,const char *src)
&#123;
    char *ret;
    if(dest==NULL || src==NULL)//检查是否为空指针
        return NULL;
    while((*dest++=*src++)!=&#39;\0&#39;);//复制字符串中的内容
    return ret;
&#125;
</code></pre>
<h2 id="考虑内存重叠"><a href="#考虑内存重叠" class="headerlink" title="考虑内存重叠"></a>考虑内存重叠</h2><pre><code>char *strcpy(char *dest,const char *src)
&#123;
    char *ret=dest;
    if(dest==NULL || src==NULL)//检查是否为空指针
        return NULL;
    memcpy(dest,src,strlen(src)+1);//调用memcpy函数避免内存重复的情况
    return ret;
&#125;
</code></pre>
<h4 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h4><ul>
<li>const修饰源字符串避免对源字符串的修改</li>
<li>检查指针的有效性避免非法操作</li>
<li>返回目标字符串的首地址确保字符串的线性</li>
<li>使用<code>(*dest++=*src++)!=&#39;\0&#39;</code>确保字符串的末尾有结束符</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2016/11/29/strcpy%E7%9A%84%E5%AE%9E%E7%8E%B0/" data-id="cm1ghkbn9003ozodzduv8e1n7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/c-language/" rel="tag">C&#x2F;C++语言</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-计算机网络-TCP链接的建立与释放" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/28/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-TCP%E9%93%BE%E6%8E%A5%E7%9A%84%E5%BB%BA%E7%AB%8B%E4%B8%8E%E9%87%8A%E6%94%BE/" class="article-date">
  <time datetime="2016-11-27T16:07:50.000Z" itemprop="datePublished">2016-11-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/28/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-TCP%E9%93%BE%E6%8E%A5%E7%9A%84%E5%BB%BA%E7%AB%8B%E4%B8%8E%E9%87%8A%E6%94%BE/">计算机网络-TCP链接的建立与释放</a>
    </h1>
  


        <div style="color: #999; margin-top: 0.3rem" class="post-meta-item"> 共计
    818 字，约需阅读
    2.97
    分钟
</div>
      </header>
    
    
   

    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="TCP-链接的建立（三次握手）"><a href="#TCP-链接的建立（三次握手）" class="headerlink" title="TCP 链接的建立（三次握手）"></a>TCP 链接的建立（三次握手）</h2><ol>
<li>服务器启动之后会持续监听连接请求</li>
<li>客户端主动发起建立连接的请求，其请求中包含 <code>SYN</code> 标志位和一个报文客户端序列号 <code>seq=x</code></li>
<li>服务端收到建立连接的请求时，主动进入 <code>SYN</code> 已收到的状态，同时返回一个确认报文，报文包含 <code>SYN</code> 和 <code>ACK</code> 状态位，同时返回确认序列号 <code>ack=x+1</code> 和当前报文的服务端序列号 <code>seq=y</code></li>
<li>客户端收到确认报文之后进入连接已经建立状态，然后立即返回一个确认报文，报文包含 <code>ACK</code> 状态位，同时返回确认序列号 <code>ack=y+1</code> 和当前报文的服务端序列号 <code>seq=x+1</code></li>
</ol>
<p><img src="/images/network/tcp-connect.svg" alt="TCP链接建立完整示意图"></p>
<h3 id="注"><a href="#注" class="headerlink" title="注"></a>注</h3><ul>
<li><code>TCP</code> 规定，<code>SYN</code> 报文段（即 <code>SYN=1</code> 的报文段）不能携带数据，但是要消耗掉一个序号；<code>ACK</code> 报文段可以携带数据，如果不携带数据则不消耗序号。</li>
<li>流程中每一个报文若未收到响应，发送端都会重复发送几次</li>
<li>服务端进入 <code>SYN</code> 已经收到状态且已经发送响应时会启动超时定时器，超时未收到响应时就会释放相应的资源</li>
<li>部分服务器为了避免 <code>TCP</code> 连接攻击，会在收到客户端确认响应之后才会分配相应的资源</li>
</ul>
<h2 id="TCP-链接的释放（四次挥手）"><a href="#TCP-链接的释放（四次挥手）" class="headerlink" title="TCP 链接的释放（四次挥手）"></a>TCP 链接的释放（四次挥手）</h2><p>以客户端主动断开连接为例</p>
<ol>
<li>客户端发送端开连接的请求报文，报文包含 <code>FIN</code> 状态位和客户端序列号 <code>seq=u</code>，并进入发送通道关闭等待响应状态</li>
<li>服务端收到报文后会通知上层的应用程序，同时返回确认报文，报文包含 <code>FIN</code> 和 <code>ACK</code> 状态位，以及确认序列号 <code>ack=u+1</code> 和当前报文的服务端序列号 <code>seq=v</code></li>
<li>客户端收到响应报文之后进入发送通道关闭状态，同时进入接收通道等待关闭</li>
<li>服务端发送完所有数据之后会发送连接关闭报文，此报文包含 <code>FIN</code> 和 <code>ACK</code> 状态位，以及确认序列号 <code>ack=u+1</code> 和当前报文的服务端序列号 <code>seq=w</code>，进入连接关闭等待确认状态</li>
<li>客户端收到接收通道关闭请求报文后，等待一段时间后关闭接收通道，同时发送一个确认报文给服务端，此报文包含 <code>ACK</code> 状态位，同时返回确认序列号 <code>ack=w+1</code> 和当前报文的服务端序列号 <code>seq=u+1</code></li>
<li>服务端收到请求后关闭发送通道</li>
<li>客户端等待时间过期之后关闭连接</li>
</ol>
<p><img src="/images/network/tcp-close.svg" alt="TCP链接释放完整示意图"></p>
<h3 id="注-1"><a href="#注-1" class="headerlink" title="注"></a>注</h3><ul>
<li>TCP 规定，FIN 报文段即使不携带数据也要消耗一个序号。</li>
<li>四次挥手是为了确保对方发送的数据发送完毕，全双工通信只能确保主动关闭的一方无数据发送，对端可能还有数据需要发送</li>
<li>客户端收到关闭请求不会立即进入关闭状态而是等待一段时间后再关闭是为了等待网络中滞留的报文</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2016/11/28/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-TCP%E9%93%BE%E6%8E%A5%E7%9A%84%E5%BB%BA%E7%AB%8B%E4%B8%8E%E9%87%8A%E6%94%BE/" data-id="cm1ghkbno005tzodz4x7qhihg" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/network/" rel="tag">计算机网络</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-资源" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/05/%E8%B5%84%E6%BA%90/" class="article-date">
  <time datetime="2016-11-05T00:20:31.000Z" itemprop="datePublished">2016-11-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/05/%E8%B5%84%E6%BA%90/">各种资源</a>
    </h1>
  


        <div style="color: #999; margin-top: 0.3rem" class="post-meta-item"> 共计
    15 字，约需阅读
    0.05
    分钟
</div>
      </header>
    
    
   

    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h2><ul>
<li><a href="https://hexo.io/zh-cn/docs/index.html">hexo文档</a></li>
<li><a href="https://ctolib.com/topics-133463.html">React学习路线图（2018 版）</a></li>
<li><a href="https://magicui.design/docs/components/grid-pattern">Magic UI</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2016/11/05/%E8%B5%84%E6%BA%90/" data-id="cm1ghkbnq0061zodz4mcgd4bb" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/source/" rel="tag">资源</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/11/">&laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="page-number" href="/page/11/">11</a><span class="page-number current">12</span>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/c-language/" rel="tag">C&#x2F;C++语言</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/" rel="tag">HTML</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a><span class="tag-list-count">64</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeORM/" rel="tag">TypeORM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/antd/" rel="tag">antd</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/" rel="tag">express</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/form/" rel="tag">form</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/" rel="tag">mysql</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/" rel="tag">node</a><span class="tag-list-count">20</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/other/" rel="tag">other</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/" rel="tag">react</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/" rel="tag">webpack</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8F%92%E4%BB%B6/" rel="tag">插件</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/" rel="tag">浏览器</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/solution/" rel="tag">算法</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/network/" rel="tag">计算机网络</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/read-book/" rel="tag">读书</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/source/" rel="tag">资源</a><span class="tag-list-count">3</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/c-language/" style="font-size: 12.5px;">C/C++语言</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/JavaScript/" style="font-size: 20px;">JavaScript</a> <a href="/tags/TypeORM/" style="font-size: 10px;">TypeORM</a> <a href="/tags/TypeScript/" style="font-size: 11.25px;">TypeScript</a> <a href="/tags/antd/" style="font-size: 10px;">antd</a> <a href="/tags/express/" style="font-size: 11.25px;">express</a> <a href="/tags/form/" style="font-size: 10px;">form</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/mysql/" style="font-size: 12.5px;">mysql</a> <a href="/tags/node/" style="font-size: 18.75px;">node</a> <a href="/tags/other/" style="font-size: 16.25px;">other</a> <a href="/tags/react/" style="font-size: 17.5px;">react</a> <a href="/tags/webpack/" style="font-size: 12.5px;">webpack</a> <a href="/tags/%E6%8F%92%E4%BB%B6/" style="font-size: 10px;">插件</a> <a href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/" style="font-size: 10px;">浏览器</a> <a href="/tags/solution/" style="font-size: 13.75px;">算法</a> <a href="/tags/network/" style="font-size: 15px;">计算机网络</a> <a href="/tags/read-book/" style="font-size: 10px;">读书</a> <a href="/tags/source/" style="font-size: 12.5px;">资源</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/11/">十一月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/09/">九月 2024</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/07/">七月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">三月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">十月 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">十一月 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">八月 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">五月 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">一月 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">十二月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">十月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">八月 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">七月 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">六月 2021</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">二月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a><span class="archive-list-count">4</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/11/24/%E8%AE%B0%E4%B8%80%E6%AC%A1safari%E7%99%BD%E5%B1%8F%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5/">记一次safari白屏问题排查</a>
          </li>
        
          <li>
            <a href="/2024/09/25/%E6%AD%A3%E5%88%99/">正则</a>
          </li>
        
          <li>
            <a href="/2024/09/25/AI/">AI</a>
          </li>
        
          <li>
            <a href="/2024/09/24/zustand/">zustand</a>
          </li>
        
          <li>
            <a href="/2024/09/22/typescript%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AE%9E%E7%8E%B0/">typescript自定义实现</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2024 奔跑的蜗牛<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">分类</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>


  </div>
</body>
</html>