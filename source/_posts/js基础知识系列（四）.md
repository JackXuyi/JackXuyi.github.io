---
title: js基础知识系列（四）
date: 2020-05-06 22:21:54
tags: javascript
---

## 字符串

### 创建自符串

- 构造函数创建 `new String('t')`
- 字面量创建 `"t"`
- 使用函数转化为字符串 `String("t")`

#### 区别

```JS
const t1 = new String("t")
const t2 = String("t")
const t3 = "t"

t1 === t2 // false
t1 === t3 // false
t3 === t2 // true

typeof t1 // "object"
typeof t2 // "string"
typeof t3 // "string"

```

上述代码可以看出 `new String('t')` 创建的是一个引用类型-对象，而 `"t"` 和 `String("t")` 是一个基本类型-字符串，但是都具有字符串具有的属性

### 字符串方法

- `charAt(n)` 返回字符串中第 `n + 1` 个单字符，若字符不存在则返回空字符串
- `charCodeAt(n)` 返回字符串中第 `n + 1` 个单字符编码，若字符不存在则返回 `NaN`
- `concat(str)` 拼接字符串，类似与 `+` 号，但 `+` 存在类型转化问题，`concat(str)` 调用时必须为字符串拼接其它类型，函数中其它类型会被强制转化为字符串
- `indexOf(str, n)` 从第 n 位由左向右查找字符串，找到返回 `index`，没有找到返回 `-1`
- `lastIndexOf(str, n)` 从第 n 位由右向左查找字符串，找到返回 `index`，没有找到返回 `-1`
- `trim()` 去除字符串两边的空格

#### `slice`、`substr`、`substring` 异同，以字符串 `"123456"` 为例

##### 相同点

都是对字符串进行切割且不改变原有字符串，都接收一到两个参数，没有参数时都返回整个字符串

##### 不同点

- `slice` 参数为（起始位置，结束位置）
- `substr` 参数为（起始位置，长度）
- `substring` 参数为（起始位置，结束位置）

```JS
"123456".slice(3) // "456"
"123456".substr(3) // "456"
"123456".substring(3) // "456"

"123456".slice(9) // ""
"123456".substr(9) // ""
"123456".substring(9) // ""

"123456".slice(-2) // "56" 小于 0 从字符串长度 + 该值的位置开始计算
"123456".substr(-2) // "123456" 小于 0 从字符串起始位置开始计算
"123456".substring(-2) // "56" 小于 0 从字符串长度 + 该值的位置开始计算

"123456".slice(2,2) // "" （起始位置，结束位置）
"123456".substr(2,2) // "34" （起始位置，长度）
"123456".substring(2,2) // "" （起始位置，结束位置）


"123456".slice(2,1) // "" （起始位置，结束位置）
"123456".substr(2,1) // "3" （起始位置，长度）
"123456".substring(2,1) // "2" （起始位置，结束位置），把参数中较小的值作为起始位置

"123456".slice(2,-7) // "345" （起始位置，结束位置），小于0的值按照 N * len + n 的方式计算位置
"123456".substr(2,-7) // "" （起始位置，长度）
"123456".substring(2,-7) // "12" （起始位置，结束位置），把参数中较小的值作为起始位置且当起始位置小于0时按照0计算
```
